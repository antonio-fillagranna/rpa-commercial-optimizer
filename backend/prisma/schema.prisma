generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model aluno {
  id_aluno      Int          @id
  nome          String       @db.VarChar(255)
  telefone      String       @db.VarChar(15)
  dt_nascimento DateTime?    @db.Date
  rua           String?      @db.VarChar(255)
  numero        Int?
  altura        Int?
  peso          Float?
  frequencia    frequencia[]
  matricula     matricula[]  @ignore
}

model atividade {
  id_atividade Int     @id
  nome         String? @db.VarChar(50)
  turma        turma[]
}

model frequencia {
  id_frequencia Int       @id
  dt_frequencia DateTime? @db.Timestamp(6)
  presente      Int       @db.SmallInt
  id_aluno      Int
  id_turma      Int
  aluno         aluno     @relation(fields: [id_aluno], references: [id_aluno], onDelete: NoAction, onUpdate: NoAction)
  turma         turma     @relation(fields: [id_turma], references: [id_turma], onDelete: NoAction, onUpdate: NoAction)
}

model instrutor {
  id_instrutor  Int      @id
  nome          String   @db.VarChar(255)
  rg            String?  @db.VarChar(15)
  dt_nascimento DateTime @db.Date
  turma         turma[]
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model matricula {
  id_aluno     Int
  id_turma     Int
  dt_matricula DateTime @db.Date
  aluno        aluno    @relation(fields: [id_aluno], references: [id_aluno], onDelete: NoAction, onUpdate: NoAction)
  turma        turma    @relation(fields: [id_turma], references: [id_turma], onDelete: NoAction, onUpdate: NoAction)

  @@ignore
}

model turma {
  id_turma     Int          @id
  horario      DateTime     @db.Time(6)
  duracao      Int?
  dt_inicio    DateTime?    @db.Date
  id_atividade Int
  id_instrutor Int?
  frequencia   frequencia[]
  matricula    matricula[]  @ignore
  atividade    atividade    @relation(fields: [id_atividade], references: [id_atividade], onDelete: NoAction, onUpdate: NoAction)
  instrutor    instrutor?   @relation(fields: [id_instrutor], references: [id_instrutor], onDelete: NoAction, onUpdate: NoAction)
}
